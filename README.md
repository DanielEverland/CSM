# Building
The program can be executed as stated in the documentation for the assignment: https://gitlab.gbar.dtu.dk/02141/mandatory-assignment/blob/master/getting-started-fs.md
We have used a .bat file to easily build and run the project. It requires a path setup to fsi.exe, has only been tested on Windows, and is expected to lie in the root of the project
```
"%~dp0\bin\fslex\fslex.exe" "%~dp0\Task1Lexer.fsl" --unicode
"%~dp0\bin\fsyacc\fsyacc.exe" "%~dp0\Task1Parser.fsp" --module Task1Parser
fsi.exe "%~dp0\Task1.fsx"
PAUSE
```

# Running
The input expects a valid GCL program and will output a string that can be interpreted by graphviz. Here's an example:
```
Enter an input program: if x>=y -> z:=x [] y>x -> z:=y [] y<x -> z:=y [] y!=x -> z:=y fi
digraph program_graph {rankdir=LR;
node [shape = circle]; qS;
node [shape = doublecircle]; qE;
node [shape = circle]
qS -> q1 [label = "x>=y"];
q1 -> qE [label = "z:=x"];
qS -> q2 [label = "y>x"];
q2 -> qE [label = "z:=y"];
qS -> q3 [label = "y<x"];
q3 -> qE [label = "z:=y"];
qS -> q4 [label = "y<>x"];
q4 -> qE [label = "z:=y"];
}
```

## Determinism
Determinism can be enabled by changing Task1.fsx line 19 to `let determinism = true`, in which case the above program's output will be:
```
Enter an input program: if x>=y -> z:=x [] y>x -> z:=y [] y<x -> z:=y [] y!=x -> z:=y fi
digraph program_graph {rankdir=LR;
node [shape = circle]; qS;
node [shape = doublecircle]; qE;
node [shape = circle]
qS -> q1 [label = "x>=y&!false"];
q1 -> qE [label = "z:=x"];
qS -> q2 [label = "y>x&!false&!(x>=y)"];
q2 -> qE [label = "z:=y"];
qS -> q3 [label = "y<x&!false&!(x>=y)&!(y>x)"];
q3 -> qE [label = "z:=y"];
qS -> q4 [label = "y<>x&!(y<x)&!false&!(x>=y)&!(y>x)"];
q4 -> qE [label = "z:=y"];
}
```

## Error Handling
If the program couldn't be parsed, an error message will be displayed, and the program will terminate:
```
Enter an input program: df
Couldn't parse program
```

# Modified Files

The files modified for the assignment are:
- Task1.fsx
- Task1Lexer.fsl
- Task1Parser.fsp
- Task1TypesAST.fs

The following files were auto-generated by building the project as previously mentioned:
- Task1Lexer.fs
- Task1Parser.fs
- Task1Parser.fsi
